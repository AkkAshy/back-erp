# üìò Frontend Integration Guide - ERP POS System

–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å –±—ç–∫–µ–Ω–¥–æ–º ERP —Å–∏—Å—Ç–µ–º—ã.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –î–≤–∞ —Ç–∏–ø–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –Ω–∞ –º–∞–≥–∞–∑–∏–Ω:

1. **–ê–¥–º–∏–Ω (Owner)** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å –ø–æ–ª–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º
2. **–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (Staff)** - –æ–±—â–∏–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –≤—Å–µ—Ö –∫–∞—Å—Å–∏—Ä–æ–≤ (`tokyo_staff` / `12345678`)

### –ö–∞—Å—Å–∏—Ä—ã:
- –°–æ–∑–¥–∞—é—Ç—Å—è –∞–¥–º–∏–Ω–æ–º –∫–∞–∫ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–ø–∏—Å–∏ (–∏–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω)
- –ù–ï –∏–º–µ—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –í—ã–±–∏—Ä–∞—é—Ç—Å—è –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ø–æ–¥ –æ–±—â–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### 1. –õ–æ–≥–∏–Ω –∞–¥–º–∏–Ω–∞

**Endpoint:** `POST /api/users/auth/login/`

**Headers:**
```
Content-Type: application/json
X-Tenant-Key: admin_1a12e47a
```

**Request Body:**
```json
{
  "username": "admin",
  "password": "admin123"
}
```

**Response:**
```json
{
  "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "username": "admin",
    "email": "admin@example.com",
    "full_name": "Admin User"
  },
  "available_stores": [
    {
      "id": 1,
      "name": "Tokyo Shop",
      "slug": "tokyo",
      "tenant_key": "tokyo_1a12e47a",
      "role": "owner",
      "role_display": "–í–ª–∞–¥–µ–ª–µ—Ü",
      "permissions": ["view_all", "create_all", "update_all", "delete_all", ...]
    }
  ],
  "default_store": {
    "tenant_key": "tokyo_1a12e47a",
    "name": "Tokyo Shop",
    "role": "owner"
  }
}
```

**–í–∞–∂–Ω–æ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `tenant_key` –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-Tenant-Key` –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤!

---

### 2. –õ–æ–≥–∏–Ω –∫–∞—Å—Å–∏—Ä–∞ (–æ–±—â–∏–π –∞–∫–∫–∞—É–Ω—Ç)

**Endpoint:** `POST /api/users/auth/login/`

**Headers:**
```
Content-Type: application/json
X-Tenant-Key: tokyo_1a12e47a
```

**Request Body:**
```json
{
  "username": "tokyo_staff",
  "password": "12345678"
}
```

**Response:**
```json
{
  "access": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refresh": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 2,
    "username": "tokyo_staff",
    "email": "",
    "full_name": "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ Tokyo Shop"
  },
  "available_stores": [
    {
      "id": 1,
      "name": "Tokyo Shop",
      "slug": "tokyo",
      "tenant_key": "tokyo_1a12e47a",
      "role": "staff",
      "role_display": "–û–±—â–∏–π –∞–∫–∫–∞—É–Ω—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤",
      "permissions": ["view_products", "create_sales", "view_customers", ...],
      "cashiers": [
        {
          "id": 1,
          "full_name": "–ê–Ω—Ç–æ–Ω –ò–≤–∞–Ω–æ–≤",
          "phone": "+998901234567",
          "role": "cashier"
        },
        {
          "id": 2,
          "full_name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
          "phone": "+998901234568",
          "role": "cashier"
        }
      ]
    }
  ],
  "default_store": {
    "tenant_key": "tokyo_1a12e47a",
    "name": "Tokyo Shop",
    "role": "staff"
  }
}
```

**–ü–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –∫–∞—Å—Å–∏—Ä–∞:**
1. –ü–æ–∫–∞–∂–∏—Ç–µ —ç–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –∫–∞—Å—Å–∏—Ä–∞ –∏–∑ –º–∞—Å—Å–∏–≤–∞ `cashiers`
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–π `cashier_id` –≤ localStorage/sessionStorage
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç `cashier_id` –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–º–µ–Ω—ã –∏ –ø—Ä–æ–¥–∞–∂–∞—Ö

---

## üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)

### 1. –°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Å–∏—Ä–∞

**Endpoint:** `POST /api/users/employees/`

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
Content-Type: application/json
```

**Request Body:**
```json
{
  "first_name": "–ê–Ω—Ç–æ–Ω",
  "last_name": "–ò–≤–∞–Ω–æ–≤",
  "phone": "+998901234567",
  "role": "cashier"
}
```

**Response:**
```json
{
  "status": "success",
  "message": "–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω",
  "data": {
    "employee": {
      "id": 1,
      "full_name": "–ò–≤–∞–Ω–æ–≤ –ê–Ω—Ç–æ–Ω",
      "phone": "+998901234567",
      "role": "cashier",
      "is_active": true
    },
    "username": null,
    "password": null
  }
}
```

**–í–∞–∂–Ω–æ:** `username` –∏ `password` –±—É–¥—É—Ç `null` –¥–ª—è –∫–∞—Å—Å–∏—Ä–æ–≤, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–π –∞–∫–∫–∞—É–Ω—Ç!

---

### 2. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**Endpoint:** `GET /api/users/employees/`

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
```

**Response:**
```json
{
  "status": "success",
  "data": [
    {
      "id": 1,
      "full_name": "–ò–≤–∞–Ω–æ–≤ –ê–Ω—Ç–æ–Ω",
      "phone": "+998901234567",
      "role": "cashier",
      "role_display": "–ö–∞—Å—Å–∏—Ä",
      "is_active": true,
      "hired_at": "2025-01-15"
    },
    {
      "id": 2,
      "full_name": "–ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏—è",
      "phone": "+998901234568",
      "role": "cashier",
      "role_display": "–ö–∞—Å—Å–∏—Ä",
      "is_active": true,
      "hired_at": "2025-01-16"
    }
  ]
}
```

---

### 3. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞—Å—Å–∏—Ä–æ–≤ (–¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ)

**Endpoint:** `GET /api/users/employees/cashiers/`

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
```

**Response:**
```json
{
  "status": "success",
  "data": [
    {
      "id": 1,
      "full_name": "–ò–≤–∞–Ω–æ–≤ –ê–Ω—Ç–æ–Ω",
      "phone": "+998901234567",
      "photo": null
    },
    {
      "id": 2,
      "full_name": "–ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏—è",
      "phone": "+998901234568",
      "photo": "http://example.com/media/employee_photos/maria.jpg"
    }
  ]
}
```

---

## üí∞ –†–∞–±–æ—Ç–∞ —Å –∫–∞—Å—Å–æ–≤—ã–º–∏ —Å–º–µ–Ω–∞–º–∏

### 1. –û—Ç–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É

**Endpoint:** `POST /api/sales/cashier-sessions/`

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
Content-Type: application/json
```

**Request Body:**
```json
{
  "cashier_id": 1,
  "opening_cash": "100000.00"
}
```

**Response:**
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "cash_register": 1,
    "cash_register_name": "–û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Å—Å–∞",
    "cashier_id": 1,
    "cashier_full_name": "–ò–≤–∞–Ω–æ–≤ –ê–Ω—Ç–æ–Ω",
    "status": "open",
    "status_display": "–û—Ç–∫—Ä—ã—Ç–∞",
    "opening_cash": "100000.00",
    "expected_cash": "0.00",
    "actual_cash": null,
    "cash_difference": "0.00",
    "opened_at": "2025-01-15T09:00:00Z",
    "closed_at": null
  }
}
```

**–í–∞–∂–Ω–æ:**
- `cash_register` –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–æ–±—â–∞—è –∫–∞—Å—Å–∞ –¥–ª—è –≤—Å–µ—Ö)
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `session.id` –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –ø—Ä–æ–¥–∞–∂ –∫ —ç—Ç–æ–π —Å–º–µ–Ω–µ

---

### 2. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –æ—Ç–∫—Ä—ã—Ç—É—é —Å–º–µ–Ω—É

**Endpoint:** `GET /api/sales/cashier-sessions/current/`

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
```

**Response:**
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "cashier_full_name": "–ò–≤–∞–Ω–æ–≤ –ê–Ω—Ç–æ–Ω",
    "status": "open",
    "opening_cash": "100000.00",
    "expected_cash": "120000.00",
    "opened_at": "2025-01-15T09:00:00Z",
    "duration": 14400.0,
    "total_sales": "20000.00",
    "cash_sales": "15000.00",
    "card_sales": "5000.00"
  }
}
```

---

### 3. –ó–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É

**Endpoint:** `POST /api/sales/cashier-sessions/{session_id}/close/`

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
Content-Type: application/json
```

**Request Body:**
```json
{
  "actual_cash": "122000.00"
}
```

**Response:**
```json
{
  "id": 1,
  "status": "closed",
  "opening_cash": "100000.00",
  "expected_cash": "120000.00",
  "actual_cash": "122000.00",
  "cash_difference": "2000.00",
  "closed_at": "2025-01-15T18:00:00Z",
  "total_sales": "20000.00",
  "cash_sales": "15000.00",
  "card_sales": "5000.00"
}
```

**–í–∞–∂–Ω–æ:** `cash_difference` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–∑–ª–∏—à–µ–∫ (+) –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—á—É (-):
- –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –∏–∑–ª–∏—à–µ–∫ (–±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥, —á–µ–º –æ–∂–∏–¥–∞–ª–æ—Å—å)
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –Ω–µ–¥–æ—Å—Ç–∞—á–∞ (–º–µ–Ω—å—à–µ –¥–µ–Ω–µ–≥)

---

## üõí –ü—Ä–æ–¥–∞–∂–∏

### 1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–¥–∞–∂—É

**Endpoint:** `POST /api/sales/sales/`

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
Content-Type: application/json
```

**Request Body:**
```json
{
  "session": 1,
  "customer_phone": "+998901234567",
  "items": [
    {
      "product": 1,
      "quantity": 2,
      "unit_price": "15000.00"
    },
    {
      "product": 2,
      "quantity": 1,
      "unit_price": "25000.00"
    }
  ],
  "payments": [
    {
      "payment_method": "cash",
      "amount": "55000.00",
      "received_amount": "60000.00"
    }
  ],
  "discount_percent": "0.00",
  "notes": ""
}
```

**Response:**
```json
{
  "status": "success",
  "message": "–ü—Ä–æ–¥–∞–∂–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞",
  "data": {
    "id": 1,
    "receipt_number": "SALE-20250115-0001",
    "session": 1,
    "status": "completed",
    "subtotal": "55000.00",
    "discount_amount": "0.00",
    "tax_amount": "0.00",
    "total_amount": "55000.00",
    "items": [
      {
        "id": 1,
        "product_name": "–¢–æ–≤–∞—Ä 1",
        "quantity": "2.000",
        "unit_price": "15000.00",
        "line_total": "30000.00"
      },
      {
        "id": 2,
        "product_name": "–¢–æ–≤–∞—Ä 2",
        "quantity": "1.000",
        "unit_price": "25000.00",
        "line_total": "25000.00"
      }
    ],
    "payments": [
      {
        "id": 1,
        "payment_method": "cash",
        "payment_method_display": "–ù–∞–ª–∏—á–Ω—ã–µ",
        "amount": "55000.00",
        "received_amount": "60000.00",
        "change_amount": "5000.00"
      }
    ],
    "created_at": "2025-01-15T10:30:00Z"
  }
}
```

**–í–∞–∂–Ω–æ:**
- `session` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ID –æ—Ç–∫—Ä—ã—Ç–æ–π —Å–º–µ–Ω—ã
- –ü—Ä–æ–¥–∞–∂–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∂–µ—Ç—Å—è –∫ –∫–∞—Å—Å–∏—Ä—É —á–µ—Ä–µ–∑ —Å–º–µ–Ω—É

---

### 2. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —à—Ç—Ä–∏—Ö–∫–æ–¥–∞

**Endpoint:** `POST /api/products/scan/`

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
Content-Type: application/json
```

**Request Body:**
```json
{
  "barcode": "4600051000014"
}
```

**Response:**
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "name": "–¢–æ–≤–∞—Ä 1",
    "barcode": "4600051000014",
    "price": "15000.00",
    "available_quantity": "100.000",
    "category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è 1",
    "image": "http://example.com/media/products/product1.jpg"
  }
}
```

---

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∫–∞—Å—Å–∏—Ä–∞–º

### –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–∞—Å—Å–∏—Ä–∞–º –∑–∞ –ø–µ—Ä–∏–æ–¥

**Endpoint:** `GET /api/sales/cashier-sessions/cashier-stats/`

**Query Parameters:**
- `date_from` (optional): –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO (2025-01-01)
- `date_to` (optional): –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO (2025-01-31)

**Defaults:** –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã, –±–µ—Ä—ë—Ç—Å—è —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü (—Å 1-–≥–æ —á–∏—Å–ª–∞ –¥–æ —Å–µ–≥–æ–¥–Ω—è)

**Headers:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
```

**Example Request:**
```
GET /api/sales/cashier-sessions/cashier-stats/?date_from=2025-01-01&date_to=2025-01-31
```

**Response:**
```json
{
  "status": "success",
  "data": {
    "period": {
      "from": "2025-01-01T00:00:00+05:00",
      "to": "2025-01-31T23:59:59+05:00"
    },
    "cashiers": [
      {
        "id": 1,
        "full_name": "–ê–Ω—Ç–æ–Ω –ò–≤–∞–Ω–æ–≤",
        "phone": "+998901234567",
        "role": "cashier",
        "total_sales": 5000000.00,
        "cash_sales": 3000000.00,
        "card_sales": 2000000.00,
        "sessions_count": 20,
        "sales_count": 150
      },
      {
        "id": 2,
        "full_name": "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞",
        "phone": "+998901234568",
        "role": "cashier",
        "total_sales": 4500000.00,
        "cash_sales": 2500000.00,
        "card_sales": 2000000.00,
        "sessions_count": 18,
        "sales_count": 130
      }
    ],
    "total_cashiers": 2
  }
}
```

**–í–∞–∂–Ω–æ:**
- –ö–∞—Å—Å–∏—Ä—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ `total_sales` (–æ—Ç –±–æ–ª—å—à–µ–≥–æ –∫ –º–µ–Ω—å—à–µ–º—É)
- –≠—Ç–æ –¢–û–ü –∫–∞—Å—Å–∏—Ä–æ–≤ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º!

---

## üé® UI/UX —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –≠–∫—Ä–∞–Ω –ª–æ–≥–∏–Ω–∞ –∫–∞—Å—Å–∏—Ä–∞:

1. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞ –ø–æ–¥ `tokyo_staff`:**
   ```
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  –í—ã–±–µ—Ä–∏—Ç–µ, –∫—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–≥–æ–¥–Ω—è ‚îÇ
   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
   ‚îÇ                                 ‚îÇ
   ‚îÇ  [üë§] –ê–Ω—Ç–æ–Ω –ò–≤–∞–Ω–æ–≤              ‚îÇ
   ‚îÇ       +998 90 123 45 67         ‚îÇ
   ‚îÇ                                 ‚îÇ
   ‚îÇ  [üë§] –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞             ‚îÇ
   ‚îÇ       +998 90 123 45 68         ‚îÇ
   ‚îÇ                                 ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ```

2. **–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–∞—Å—Å–∏—Ä–∞:**
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `cashier_id` –≤ localStorage
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞—è —Å–º–µ–Ω–∞ (`GET /api/sales/cashier-sessions/current/`)
   - –ï—Å–ª–∏ –Ω–µ—Ç - –ø–æ–∫–∞–∂–∏—Ç–µ —ç–∫—Ä–∞–Ω –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–º–µ–Ω—ã
   - –ï—Å–ª–∏ –µ—Å—Ç—å - –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —ç–∫—Ä–∞–Ω—É –ø—Ä–æ–¥–∞–∂

---

### –≠–∫—Ä–∞–Ω –æ—Ç–∫—Ä—ã—Ç–∏—è —Å–º–µ–Ω—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –û—Ç–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω—ã                 ‚îÇ
‚îÇ  –ö–∞—Å—Å–∏—Ä: –ê–Ω—Ç–æ–Ω –ò–≤–∞–Ω–æ–≤           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                 ‚îÇ
‚îÇ  –°–∫–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –∫–∞—Å—Å–µ?      ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ  [        100,000 —Å—É–º        ]  ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ  [ –û—Ç–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É ]              ‚îÇ
‚îÇ                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –≠–∫—Ä–∞–Ω –∑–∞–∫—Ä—ã—Ç–∏—è —Å–º–µ–Ω—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω—ã                 ‚îÇ
‚îÇ  –ö–∞—Å—Å–∏—Ä: –ê–Ω—Ç–æ–Ω –ò–≤–∞–Ω–æ–≤           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ù–∞—á–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: 100,000       ‚îÇ
‚îÇ  –û–∂–∏–¥–∞–µ—Ç—Å—è:       120,000       ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ  –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—É–º–º–∞ –≤ –∫–∞—Å—Å–µ:     ‚îÇ
‚îÇ  [        122,000 —Å—É–º        ]  ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ  –†–∞–∑–Ω–∏—Ü–∞: +2,000 (–∏–∑–ª–∏—à–µ–∫)      ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ  [ –ó–∞–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É ]              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –≠–∫—Ä–∞–Ω –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∞):

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –¢–û–ü –ö–∞—Å—Å–∏—Ä–æ–≤ –∑–∞ —è–Ω–≤–∞—Ä—å 2025    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                 ‚îÇ
‚îÇ  ü•á 1. –ê–Ω—Ç–æ–Ω –ò–≤–∞–Ω–æ–≤             ‚îÇ
‚îÇ     –ü—Ä–æ–¥–∞–∂–∏: 5,000,000 —Å—É–º      ‚îÇ
‚îÇ     –ß–µ–∫–æ–≤: 150 | –°–º–µ–Ω: 20       ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ  ü•à 2. –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞            ‚îÇ
‚îÇ     –ü—Ä–æ–¥–∞–∂–∏: 4,500,000 —Å—É–º      ‚îÇ
‚îÇ     –ß–µ–∫–æ–≤: 130 | –°–º–µ–Ω: 18       ‚îÇ
‚îÇ                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π —Ñ–ª–æ—É —Ä–∞–±–æ—Ç—ã

### –£—Ç—Ä–æ –∫–∞—Å—Å–∏—Ä–∞:

1. –õ–æ–≥–∏–Ω –ø–æ–¥ –æ–±—â–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º (`tokyo_staff` / `12345678`)
2. –í—ã–±–æ—Ä —Å–µ–±—è –∏–∑ —Å–ø–∏—Å–∫–∞ –∫–∞—Å—Å–∏—Ä–æ–≤
3. –û—Ç–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω—ã (–≤–≤–æ–¥ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—É–º–º—ã –Ω–∞–ª–∏—á–Ω—ã—Ö)
4. –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã - –ø—Ä–æ–¥–∞–∂–∏

### –í —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è:

5. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
6. –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂
7. –ü—Ä–∏–µ–º –æ–ø–ª–∞—Ç—ã (–Ω–∞–ª–∏—á–Ω—ã–µ/–∫–∞—Ä—Ç–∞)
8. –ü–µ—á–∞—Ç—å —á–µ–∫–∞

### –í–µ—á–µ—Ä:

9. –ü–æ–¥—Å—á—ë—Ç –Ω–∞–ª–∏—á–Ω—ã—Ö –≤ –∫–∞—Å—Å–µ
10. –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω—ã (–≤–≤–æ–¥ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Å—É–º–º—ã)
11. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–∏–∑–ª–∏—à–µ–∫/–Ω–µ–¥–æ—Å—Ç–∞—á–∞)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:**
```
Authorization: Bearer <access_token>
X-Tenant-Key: tokyo_1a12e47a
Content-Type: application/json
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

**401 Unauthorized:**
```json
{
  "detail": "Given token not valid for any token type",
  "code": "token_not_valid",
  "messages": [
    {
      "token_class": "AccessToken",
      "token_type": "access",
      "message": "Token is invalid or expired"
    }
  ]
}
```
**–î–µ–π—Å—Ç–≤–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ refresh token –∏–ª–∏ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è

**400 Bad Request:**
```json
{
  "status": "error",
  "message": "Validation error",
  "errors": {
    "cashier_id": ["–ö–∞—Å—Å–∏—Ä —Å ID 999 –Ω–µ –Ω–∞–π–¥–µ–Ω"]
  }
}
```
**–î–µ–π—Å—Ç–≤–∏–µ:** –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**500 Internal Server Error:**
```json
{
  "status": "error",
  "code": "tenant_error",
  "message": "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –º–∞–≥–∞–∑–∏–Ω–∞"
}
```
**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `X-Tenant-Key`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–ª—É—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∫—Ä–µ–¥—ã:

–°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `LOGIN_CREDENTIALS.md` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

### –ü—Ä–∏–º–µ—Ä curl –∑–∞–ø—Ä–æ—Å–∞:

```bash
# –õ–æ–≥–∏–Ω –∫–∞—Å—Å–∏—Ä–∞
curl -X POST https://back-erp-gules.vercel.app/api/users/auth/login/ \
  -H "Content-Type: application/json" \
  -H "X-Tenant-Key: admin_1a12e47a" \
  -d '{
    "username": "tokyo_staff",
    "password": "12345678"
  }'

# –û—Ç–∫—Ä—ã—Ç—å —Å–º–µ–Ω—É
curl -X POST https://back-erp-gules.vercel.app/api/sales/cashier-sessions/ \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "X-Tenant-Key: tokyo_1a12e47a" \
  -H "Content-Type: application/json" \
  -d '{
    "cashier_id": 1,
    "opening_cash": "100000.00"
  }'

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞—Å—Å–∏—Ä–æ–≤
curl -X GET "https://back-erp-gules.vercel.app/api/sales/cashier-sessions/cashier-stats/?date_from=2025-01-01&date_to=2025-01-31" \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "X-Tenant-Key: tokyo_1a12e47a"
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ DevTools Console
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `X-Tenant-Key` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç—ë–∫
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É request body —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–º–µ—Ä–∞–º –≤—ã—à–µ

---

–£–¥–∞—á–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏! üöÄ
