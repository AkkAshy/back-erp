# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞ - –æ–¥–Ω–æ –æ–∫–Ω–æ

## –û–ø–∏—Å–∞–Ω–∏–µ

–í–ª–∞–¥–µ–ª–µ—Ü –∑–∞–ø–æ–ª–Ω—è–µ—Ç **–æ–¥–Ω—É –±–æ–ª—å—à—É—é —Ñ–æ—Ä–º—É** —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ—Ç:
- ‚úÖ –ê–∫–∫–∞—É–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ú–∞–≥–∞–∑–∏–Ω —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –†–æ–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–∞
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –≤—Ö–æ–¥–∞

–ù–∏–∫–∞–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤! –í—Å–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å.

---

## API Endpoint

```
POST /api/users/auth/register/
Content-Type: application/json
```

**–ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏!** –≠—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π endpoint.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞

### –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

```json
{
  "first_name": "–ò–≤–∞–Ω",
  "last_name": "–ü–µ—Ç—Ä–æ–≤",
  "middle_name": "–°–µ—Ä–≥–µ–µ–≤–∏—á",
  "owner_phone": "+998901234567",
  "email": "ivan@example.com",

  "username": "ivan_owner",
  "password": "SecurePass123!",
  "password_confirm": "SecurePass123!",

  "store_name": "–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç –ê–∑–∏—è",
  "store_slug": "asia_market",
  "store_description": "–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞",
  "store_address": "—É–ª. –ù–∞–≤–æ–∏, –¥. 45",
  "store_city": "–¢–∞—à–∫–µ–Ω—Ç",
  "store_region": "–¢–∞—à–∫–µ–Ω—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",
  "store_phone": "+998712345678",
  "store_email": "info@asiamarket.uz",
  "store_legal_name": "–û–û–û –°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç –ê–∑–∏—è",
  "store_tax_id": "123456789"
}
```

---

## –ü–æ–ª—è —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### üìã –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|-------------|----------|
| `first_name` | string | ‚úÖ –î–∞ | –ò–º—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ |
| `last_name` | string | ‚ùå –ù–µ—Ç | –§–∞–º–∏–ª–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ |
| `middle_name` | string | ‚ùå –ù–µ—Ç | –û—Ç—á–µ—Å—Ç–≤–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞ |
| `owner_phone` | string | ‚úÖ –î–∞ | –¢–µ–ª–µ—Ñ–æ–Ω: +998XXXXXXXXX |
| `email` | email | ‚ùå –ù–µ—Ç | Email –≤–ª–∞–¥–µ–ª—å—Ü–∞ |

### üîê –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|-------------|----------|
| `username` | string | ‚úÖ –î–∞ | –õ–æ–≥–∏–Ω (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π) |
| `password` | string | ‚úÖ –î–∞ | –ü–∞—Ä–æ–ª—å (–º–∏–Ω. 8 —Å–∏–º–≤–æ–ª–æ–≤) |
| `password_confirm` | string | ‚úÖ –î–∞ | –ü–æ–≤—Ç–æ—Ä –ø–∞—Ä–æ–ª—è |

### üè™ –î–∞–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω–∞

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|-------------|----------|
| `store_name` | string | ‚úÖ –î–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ |
| `store_slug` | slug | ‚ùå –ù–µ—Ç | ID –º–∞–≥–∞–∑–∏–Ω–∞ (–∞–≤—Ç–æ) |
| `store_description` | text | ‚ùå –ù–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
| `store_address` | string | ‚úÖ –î–∞ | –ê–¥—Ä–µ—Å –º–∞–≥–∞–∑–∏–Ω–∞ |
| `store_city` | string | ‚ùå –ù–µ—Ç | –ì–æ—Ä–æ–¥ |
| `store_region` | string | ‚ùå –ù–µ—Ç | –û–±–ª–∞—Å—Ç—å/—Ä–µ–≥–∏–æ–Ω |
| `store_phone` | string | ‚úÖ –î–∞ | –¢–µ–ª–µ—Ñ–æ–Ω: +998XXXXXXXXX |
| `store_email` | email | ‚ùå –ù–µ—Ç | Email –¥–ª—è —á–µ–∫–æ–≤ |
| `store_legal_name` | string | ‚ùå –ù–µ—Ç | –Æ—Ä. –Ω–∞–∑–≤–∞–Ω–∏–µ |
| `store_tax_id` | string | ‚ùå –ù–µ—Ç | –ò–ù–ù |

---

## –û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

```json
{
  "access": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "user": {
    "id": 1,
    "username": "ivan_owner",
    "email": "ivan@example.com",
    "first_name": "–ò–≤–∞–Ω",
    "last_name": "–ü–µ—Ç—Ä–æ–≤",
    "full_name": "–ü–µ—Ç—Ä–æ–≤ –ò–≤–∞–Ω"
  },
  "store": {
    "id": 1,
    "name": "–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç –ê–∑–∏—è",
    "slug": "asia_market",
    "tenant_key": "asia_market_a3f4b2c1",
    "schema_name": "tenant_asia_market",
    "address": "—É–ª. –ù–∞–≤–æ–∏, –¥. 45",
    "city": "–¢–∞—à–∫–µ–Ω—Ç",
    "phone": "+998712345678"
  },
  "employee": {
    "id": 1,
    "role": "owner",
    "role_display": "–í–ª–∞–¥–µ–ª–µ—Ü",
    "phone": "+998901234567"
  }
}
```

---

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ username
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è slug –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω

2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤ –ë–î (–≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)**
   - –°–æ–∑–¥–∞—ë—Ç—Å—è User (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Django)
   - –°–æ–∑–¥–∞—ë—Ç—Å—è Store (–º–∞–≥–∞–∑–∏–Ω) —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   - –°–æ–∑–¥–∞—ë—Ç—Å—è Employee (–∑–∞–ø–∏—Å—å –≤–ª–∞–¥–µ–ª—å—Ü–∞)
   - –°–æ–∑–¥–∞—ë—Ç—Å—è PostgreSQL schema –¥–ª—è –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç–∏

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤**
   - JWT access token (15 –º–∏–Ω—É—Ç)
   - JWT refresh token (7 –¥–Ω–µ–π)
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö

4. **–í–ª–∞–¥–µ–ª–µ—Ü —Å—Ä–∞–∑—É –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!**
   - –ü–æ–ª—É—á–∏–ª —Ç–æ–∫–µ–Ω—ã
   - –ú–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å `Authorization: Bearer <token>`
   - –ü–µ—Ä–µ–¥–∞—ë—Ç `X-Tenant-Key: asia_market_a3f4b2c1` –≤ headers

---

## –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è)

```json
{
  "first_name": "–ò–≤–∞–Ω",
  "owner_phone": "+998901234567",

  "username": "ivan_owner",
  "password": "SecurePass123!",
  "password_confirm": "SecurePass123!",

  "store_name": "–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç –ê–∑–∏—è",
  "store_address": "—É–ª. –ù–∞–≤–æ–∏, –¥. 45",
  "store_phone": "+998712345678"
}
```

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ!

---

## –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 1: –õ–æ–≥–∏–Ω –∑–∞–Ω—è—Ç

```json
{
  "username": ["–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –ª–æ–≥–∏–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"]
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç

```json
{
  "password_confirm": ["–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç"]
}
```

### –ü—Ä–∏–º–µ—Ä 3: –°–ª–∞–±—ã–π –ø–∞—Ä–æ–ª—å

```json
{
  "password": [
    "–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π. –û–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤.",
    "–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç–æ–π."
  ]
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞

```json
{
  "owner_phone": ["–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ: +998XXXXXXXXX"]
}
```

---

## UI –ü—Ä–∏–º–µ—Ä (React/Vue)

### –†–∞–∑–±–∏–≤–∫–∞ –Ω–∞ —Å–µ–∫—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–µ

```jsx
<form onSubmit={handleRegister}>

  {/* –°–µ–∫—Ü–∏—è 1: –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞ */}
  <fieldset>
    <legend>üë§ –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞</legend>
    <input name="first_name" placeholder="–ò–º—è *" required />
    <input name="last_name" placeholder="–§–∞–º–∏–ª–∏—è" />
    <input name="middle_name" placeholder="–û—Ç—á–µ—Å—Ç–≤–æ" />
    <input name="owner_phone" placeholder="+998901234567 *" required />
    <input name="email" type="email" placeholder="Email" />
  </fieldset>

  {/* –°–µ–∫—Ü–∏—è 2: –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ */}
  <fieldset>
    <legend>üîê –°–æ–∑–¥–∞–π—Ç–µ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å</legend>
    <input name="username" placeholder="–õ–æ–≥–∏–Ω *" required />
    <input name="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å *" required />
    <input name="password_confirm" type="password" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å *" required />
  </fieldset>

  {/* –°–µ–∫—Ü–∏—è 3: –î–∞–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω–∞ */}
  <fieldset>
    <legend>üè™ –î–∞–Ω–Ω—ã–µ –≤–∞—à–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞</legend>
    <input name="store_name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ *" required />
    <input name="store_address" placeholder="–ê–¥—Ä–µ—Å *" required />
    <input name="store_city" placeholder="–ì–æ—Ä–æ–¥" />
    <input name="store_region" placeholder="–û–±–ª–∞—Å—Ç—å/—Ä–µ–≥–∏–æ–Ω" />
    <input name="store_phone" placeholder="+998712345678 *" required />
    <input name="store_email" type="email" placeholder="Email –º–∞–≥–∞–∑–∏–Ω–∞" />
  </fieldset>

  {/* –°–µ–∫—Ü–∏—è 4: –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) */}
  <details>
    <summary>üìã –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</summary>
    <input name="store_legal_name" placeholder="–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" />
    <input name="store_tax_id" placeholder="–ò–ù–ù" />
  </details>

  <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
</form>
```

---

## –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ - —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–µ —Ç–æ–≤–∞—Ä—ã
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å –∫–∞—Å—Å—É
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
5. ‚úÖ –ù–∞—á–∞—Ç—å –ø—Ä–æ–¥–∞–∂–∏!

–í—Å—ë —ç—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ API —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏.

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è (Django bcrypt)
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã —Å –∫–æ—Ä–æ—Ç–∫–∏–º —Å—Ä–æ–∫–æ–º –∂–∏–∑–Ω–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (–≤—Å—ë –∏–ª–∏ –Ω–∏—á–µ–≥–æ)
- ‚úÖ –í–ª–∞–¥–µ–ª–µ—Ü —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ—Ç is_staff=True
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è tenant_key

---

## –ò—Ç–æ–≥–æ

**–û–¥–Ω–∞ —Ñ–æ—Ä–º–∞ ‚Üí –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å ‚Üí –ì–æ—Ç–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω!**

–í–ª–∞–¥–µ–ª–µ—Ü –Ω–µ –ª–∞–∑–∏—Ç –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –≤—Å—ë –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Å—Ä–∞–∑—É –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
